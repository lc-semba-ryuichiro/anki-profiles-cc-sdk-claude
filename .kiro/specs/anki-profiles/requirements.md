# Requirements Document

## Project Description (Input)
プロフィール帳暗記ツール

## Introduction
プロフィール帳暗記ツールは、プロフィール帳に記載された人物情報(名前、顔写真、所属、役職など)を効率的に記憶するための学習支援Webアプリケーションです。間隔反復学習アルゴリズム(Ankiスタイル)を用いて、長期記憶の定着を支援します。

## Requirements

### Requirement 1: プロフィールデータ管理
**Objective:** ユーザーとして、プロフィール情報を登録・編集・削除できることで、学習対象のデータセットを構築できる

#### Acceptance Criteria
1. When ユーザーが新規プロフィール登録ボタンをクリック, the システム shall プロフィール入力フォームを表示する
2. The システム shall 名前、顔写真、所属、役職、メモの各フィールドを持つプロフィールデータを保存できる
3. When ユーザーがプロフィール編集ボタンをクリック, the システム shall 既存のプロフィール情報をフォームに表示する
4. When ユーザーがプロフィール削除ボタンをクリック, the システム shall 確認ダイアログを表示し、承認後にデータを削除する
5. The システム shall プロフィール一覧を名前順または登録日順でソート表示できる

### Requirement 2: 顔写真アップロード
**Objective:** ユーザーとして、顔写真をアップロードできることで、視覚的な記憶の手がかりを提供できる

#### Acceptance Criteria
1. When ユーザーが画像ファイルを選択, the システム shall 画像のプレビューを表示する
2. If アップロードされた画像が10MBを超える, then the システム shall エラーメッセージを表示し、アップロードを拒否する
3. The システム shall JPEG、PNG、WebP形式の画像ファイルをサポートする
4. When 画像アップロード時にエラーが発生, the システム shall ユーザーに分かりやすいエラーメッセージを表示する
5. The システム shall アップロードされた画像を自動的にリサイズし、表示サイズを統一する

### Requirement 3: 暗記カード学習機能
**Objective:** ユーザーとして、間隔反復学習方式でプロフィールを学習できることで、効率的に記憶を定着させる

#### Acceptance Criteria
1. When ユーザーが学習開始ボタンをクリック, the システム shall 次の学習対象カードを表示する
2. The システム shall カード表面に顔写真を表示し、カード裏面に名前と詳細情報を表示する
3. When ユーザーがカードをクリック, the システム shall カードを反転し、裏面の情報を表示する
4. When ユーザーが習得度を選択(忘れた/難しい/普通/簡単), the システム shall 次回の復習タイミングを算出する
5. The システム shall 間隔反復アルゴリズム(SM-2またはそれに準ずるもの)を用いて復習間隔を決定する
6. While 学習セッション中, the システム shall 進捗状況(残りカード数)を表示する

### Requirement 4: 学習進捗の可視化
**Objective:** ユーザーとして、学習の進捗状況を確認できることで、モチベーションを維持し学習計画を立てられる

#### Acceptance Criteria
1. The システム shall 今日の学習予定カード数を表示する
2. The システム shall 累計学習回数と習得済みカード数を表示する
3. When ユーザーが統計画面を開く, the システム shall 過去7日間の学習実績をグラフで表示する
4. The システム shall 各プロフィールの習得レベル(新規/学習中/習得済み)を表示する
5. When すべての予定カードを学習完了, the システム shall 完了メッセージと今日の学習サマリーを表示する

### Requirement 5: データのインポート・エクスポート
**Objective:** ユーザーとして、データをバックアップ・移行できることで、データ損失のリスクを回避できる

#### Acceptance Criteria
1. When ユーザーがエクスポートボタンをクリック, the システム shall すべてのプロフィールデータをJSON形式でダウンロードする
2. When ユーザーがインポートボタンをクリック, the システム shall JSONファイル選択ダイアログを表示する
3. If インポートされたJSONファイルの形式が不正, then the システム shall エラーメッセージを表示し、インポートを中止する
4. When 正しい形式のJSONファイルをインポート, the システム shall 既存データとの重複を確認し、上書き/スキップのオプションを提示する
5. The システム shall インポート完了後に成功件数と失敗件数を表示する

### Requirement 6: ユーザーインターフェース
**Objective:** ユーザーとして、直感的で使いやすいインターフェースを利用できることで、ストレスなく学習に集中できる

#### Acceptance Criteria
1. The システム shall レスポンシブデザインを採用し、スマートフォンとPC両方で利用可能とする
2. The システム shall 操作に対するフィードバック(ローディング表示、成功通知、エラー通知)を即座に表示する
3. When ユーザーが学習中にブラウザを閉じる, the システム shall 学習進捗をローカルストレージに自動保存する
4. The システム shall キーボードショートカット(スペースキーでカード反転など)をサポートする
5. The システム shall アクセシビリティ標準(WCAG 2.1 AA)に準拠したUIを提供する

### Requirement 7: データ永続化
**Objective:** システムとして、ユーザーデータを安全に保存できることで、学習履歴の継続性を保証できる

#### Acceptance Criteria
1. The システム shall ブラウザのローカルストレージまたはIndexedDBを使用してデータを保存する
2. When データ保存時にエラーが発生, the システム shall ユーザーに警告を表示し、データのエクスポートを促す
3. The システム shall ストレージ容量が不足している場合、警告メッセージを表示する
4. The システム shall データ破損を検出した場合、バックアップからの復元オプションを提示する
5. When アプリケーション起動時, the システム shall ローカルストレージからデータを自動的に読み込む

